## Привет!
В этом проекте я провожу a/b тестирование нового механизма оплаты услуг на сайте и строю визуализации ключевых метрик, пишу функцию для обновления информации об участниках эксперимента, а также считаю продуктовые метрики, обращаясь к таблицам ClickHouse через Jupyter Notebook.
## Задачи проекта
Проект сводится к решению следующих задач:
1. **Интернет-магазин**.  
   Выбрать метрики и провести a/b тест, чтобы ответить на вопрос: стоит ли запускать новый механизм оплаты?  
   Таблицы: groups.csv, groups_add.csv, active_studs.csv, checks.csv.  
2.  **Образовательная платформа**.  
   2.1 Написать запрос, который выдаст количество усердных студентов. Усердный студент -  студент, который правильно решил 20 задач за текущий месяц (таблица default.peas в ClickHouse).  
   2.2 Студент может бесплатно решить только 30 задач в день. Для неограниченного доступа необходимо купить курс.  
       Был проведен эксперимент для тестирования нового способа оплаты курса.  
       Написать запрос, который выгрузит следующую информацию о студентах (таблицы default.peas, default.studs, default.final_project_check в ClickHouse):  
       * ARPU; 
       * ARPAU;
       * CR в покупку; 
       * СR активного пользователя в покупку; 
       * CR пользователя из активности по математике (subject = ’math’) в покупку курса по математике.
   
      ARPU считается относительно всех пользователей, попавших в группы.  
      Активным считается пользователь, за все время решивший больше 10 задач правильно в любых дисциплинах.  
      Активным по математике считается пользователь, за все время решивший 2 или больше задач правильно по математике.  
4. **Интернет-магазин**.  
    3.1 Написать функцию, которая автоматически подгружает данные из дополнительного файла с пользователями (groups_add.csv) и на основании пересчитанных параметров выводит таблицу с метриками.  
    3.2 Написать функцию, которая строит визуализации по метрикам.  
## Описание данных
Таблицы к заданиям 1 и 3:
1. ***groups.csv*** - самая ранняя таблица о принадлежности пользователей к группам (А - контрольная, В - целевая группа);
2. ***groups_add.csv*** - дополнительная таблица, которую прислали на два дня позднее groups.csv. Содержит новых пользователей, отнесённых к группам А и В;
3. ***active_studs.csv*** - информация о пользователях, которые посетили сайт в день эксперимента;
4. ***checks.csv*** - информация о покупках, совершенных в день эксперимента.

Таблицы к заданию 2:
1. ***default.peas***:  
   st_id - ID ученика;  
   timest	- Время решения карточки;  
   correct	- Правильно ли решена задача (0 - нет, 1 - да);  
   subject - Дисциплина, в которой находится задача;  
2. ***defauls.studs***:  
   st_id - ID ученика;
   test_grp - идентификатор группы ученика (контрольная/тестовая);  
3. ***default.final_project_check***:  
   st_id - ID ученика;  
   sale_time - Время покупки курса;  
   money - Цена, по которой приобрели данный курс;  
   subject - Дисциплина, по которой приобрели курс.
   
## Результаты  
1. Загрузка датасетов через API.  
2. EDA-анализ и предобработка данных.
3. Выбраны две метрики (средний чек и конверсия из посещения в покупку) для a/b теста.
4. Сформулированы выводы по результатам проверки стат. гипотез, выявлены баги (покупка без посещения) и даны рекомендации по разбивке на группы для тестирования.
5. Написаны оптимальные SQL-запросы с 2.1 количеством усердных студентов; 2.2 таблицей, содержащей метрики в разрезе по группам.
6. Написаны функция, выводящая таблицу с метриками по группам пользователей Интернет-магазина, и функция, которая строит столбчатые диаграммы по метрикам.


